exports.id=548,exports.ids=[548],exports.modules={47608:(e,t,r)=>{let n={unstable_cache:r(40770).A,revalidateTag:r(24175).revalidateTag,revalidatePath:r(24175).revalidatePath,unstable_noStore:r(17697).P,unstable_cacheLife:r(59570).R,unstable_cacheTag:r(49448).H};e.exports=n,t.unstable_cache=n.unstable_cache,t.revalidatePath=n.revalidatePath,t.revalidateTag=n.revalidateTag,t.unstable_noStore=n.unstable_noStore,t.unstable_cacheLife=n.unstable_cacheLife,t.unstable_cacheTag=n.unstable_cacheTag},27199:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERCEPTION_ROUTE_MARKERS:function(){return a},extractInterceptionRouteInformation:function(){return o},isInterceptionRouteAppPath:function(){return i}});let n=r(4767),a=["(..)(..)","(.)","(..)","(...)"];function i(e){return void 0!==e.split("/").find(e=>a.find(t=>e.startsWith(t)))}function o(e){let t,r,i;for(let n of e.split("/"))if(r=a.find(e=>n.startsWith(e))){[t,i]=e.split(r,2);break}if(!t||!r||!i)throw Error(`Invalid interception route: ${e}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(t=(0,n.normalizeAppPath)(t),r){case"(.)":i="/"===t?`/${i}`:t+"/"+i;break;case"(..)":if("/"===t)throw Error(`Invalid interception route: ${e}. Cannot use (..) marker at the root level, use (.) instead.`);i=t.split("/").slice(0,-1).concat(i).join("/");break;case"(...)":i="/"+i;break;case"(..)(..)":let o=t.split("/");if(o.length<=2)throw Error(`Invalid interception route: ${e}. Cannot use (..)(..) marker at the root level or one level up.`);i=o.slice(0,-2).concat(i).join("/");break;default:throw Error("Invariant: unexpected marker")}return{interceptingRoute:t,interceptedRoute:i}}},59570:(e,t,r)=>{"use strict";function n(e){throw Error("cacheLife() is only available with the experimental.dynamicIO config.")}Object.defineProperty(t,"R",{enumerable:!0,get:function(){return n}}),r(79348),r(30412)},49448:(e,t,r)=>{"use strict";function n(...e){throw Error("cacheTag() is only available with the experimental.dynamicIO config.")}Object.defineProperty(t,"H",{enumerable:!0,get:function(){return n}}),r(30412),r(88579)},24175:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{revalidatePath:function(){return c},revalidateTag:function(){return u}});let n=r(48454),a=r(53833),i=r(82540),o=r(79348),s=r(30412),l=r(61277);function u(e){return d(e,`revalidateTag ${e}`)}function c(e,t){if(e.length>i.NEXT_CACHE_SOFT_TAG_MAX_LENGTH){console.warn(`Warning: revalidatePath received "${e}" which exceeded max length of ${i.NEXT_CACHE_SOFT_TAG_MAX_LENGTH}. See more info here https://nextjs.org/docs/app/api-reference/functions/revalidatePath`);return}let r=`${i.NEXT_CACHE_IMPLICIT_TAG_ID}${e}`;return t?r+=`${r.endsWith("/")?"":"/"}${t}`:(0,a.isDynamicRoute)(e)&&console.warn(`Warning: a dynamic page path "${e}" was passed to "revalidatePath", but the "type" parameter is missing. This has no effect by default, see more info here https://nextjs.org/docs/app/api-reference/functions/revalidatePath`),d(r,`revalidatePath ${e}`)}function d(e,t){let r=o.workAsyncStorage.getStore();if(!r||!r.incrementalCache)throw Error(`Invariant: static generation store missing in ${t}`);let a=s.workUnitAsyncStorage.getStore();if(a){if("cache"===a.type)throw Error(`Route ${r.route} used "${t}" inside a "use cache" which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if("unstable-cache"===a.type)throw Error(`Route ${r.route} used "${t}" inside a function cached with "unstable_cache(...)" which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if("render"===a.phase)throw Error(`Route ${r.route} used "${t}" during render which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if("prerender"===a.type){let e=Error(`Route ${r.route} used ${t} without first calling \`await connection()\`.`);(0,n.abortAndThrowOnSynchronousRequestDataAccess)(r.route,t,e,a)}else if("prerender-ppr"===a.type)(0,n.postponeWithTracking)(r.route,t,a.dynamicTracking);else if("prerender-legacy"===a.type){a.revalidate=0;let e=new l.DynamicServerError(`Route ${r.route} couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw r.dynamicUsageDescription=t,r.dynamicUsageStack=e.stack,e}}r.revalidatedTags||(r.revalidatedTags=[]),r.revalidatedTags.includes(e)||r.revalidatedTags.push(e),r.pathWasRevalidated=!0}},40770:(e,t,r)=>{"use strict";Object.defineProperty(t,"A",{enumerable:!0,get:function(){return c}});let n=r(82540),a=r(88579),i=r(79348),o=r(30412),s=r(22014),l=0;async function u(e,t,r,a,i,o,l){await t.set(r,{kind:s.CachedRouteKind.FETCH,data:{headers:{},body:JSON.stringify(e),status:200,url:""},revalidate:"number"!=typeof i?n.CACHE_ONE_YEAR:i},{revalidate:i,fetchCache:!0,tags:a,fetchIdx:o,fetchUrl:l})}function c(e,t,r={}){if(0===r.revalidate)throw Error(`Invariant revalidate: 0 can not be passed to unstable_cache(), must be "false" or "> 0" ${e.toString()}`);let n=r.tags?(0,a.validateTags)(r.tags,`unstable_cache ${e.toString()}`):[];(0,a.validateRevalidate)(r.revalidate,`unstable_cache ${e.name||e.toString()}`);let d=`${e.toString()}-${Array.isArray(t)&&t.join(",")}`;return async(...t)=>{let a=i.workAsyncStorage.getStore(),c=o.workUnitAsyncStorage.getStore(),f=(null==a?void 0:a.incrementalCache)||globalThis.__incrementalCache;if(!f)throw Error(`Invariant: incrementalCache missing in unstable_cache ${e.toString()}`);let p=c&&"prerender"===c.type?c.cacheSignal:null;p&&p.beginRead();try{let i=c&&"request"===c.type?c:void 0,p=(null==i?void 0:i.url.pathname)??(null==a?void 0:a.route)??"",h=new URLSearchParams((null==i?void 0:i.url.search)??""),m=[...h.keys()].sort((e,t)=>e.localeCompare(t)).map(e=>`${e}=${h.get(e)}`).join("&"),y=`${d}-${JSON.stringify(t)}`,g=await f.generateCacheKey(y),b=`unstable_cache ${p}${m.length?"?":""}${m} ${e.name?` ${e.name}`:g}`,E=(a?a.nextFetchId:l)??1;if(a){if(a.nextFetchId=E+1,c&&("cache"===c.type||"prerender"===c.type||"prerender-ppr"===c.type||"prerender-legacy"===c.type)){"number"==typeof r.revalidate&&(c.revalidate<r.revalidate||(c.revalidate=r.revalidate));let e=c.tags;if(null===e)c.tags=n.slice();else for(let t of n)e.includes(t)||e.push(t)}let i=c&&"unstable-cache"!==c.type?c.implicitTags:[];if(!(c&&"unstable-cache"===c.type)&&"force-no-store"!==a.fetchCache&&!a.isOnDemandRevalidate&&!f.isOnDemandRevalidate&&!a.isDraftMode){let l=await f.get(g,{kind:s.IncrementalCacheKind.FETCH,revalidate:r.revalidate,tags:n,softTags:i,fetchIdx:E,fetchUrl:b,isFallback:!1});if(l&&l.value){if(l.value.kind!==s.CachedRouteKind.FETCH)console.error(`Invariant invalid cacheEntry returned for ${y}`);else{let i=void 0!==l.value.data.body?JSON.parse(l.value.data.body):void 0;return l.isStale&&(a.pendingRevalidates||(a.pendingRevalidates={}),a.pendingRevalidates[y]=o.workUnitAsyncStorage.run({type:"unstable-cache",phase:"render"},e,...t).then(e=>u(e,f,g,n,r.revalidate,E,b)).catch(e=>console.error(`revalidating cache with key: ${y}`,e))),i}}}let l=await o.workUnitAsyncStorage.run({type:"unstable-cache",phase:"render"},e,...t);return a.isDraftMode||u(l,f,g,n,r.revalidate,E,b),l}{if(l+=1,!f.isOnDemandRevalidate){let e=c&&"unstable-cache"!==c.type?c.implicitTags:[],t=await f.get(g,{kind:s.IncrementalCacheKind.FETCH,revalidate:r.revalidate,tags:n,fetchIdx:E,fetchUrl:b,softTags:e,isFallback:!1});if(t&&t.value){if(t.value.kind!==s.CachedRouteKind.FETCH)console.error(`Invariant invalid cacheEntry returned for ${y}`);else if(!t.isStale)return void 0!==t.value.data.body?JSON.parse(t.value.data.body):void 0}}let a=await o.workUnitAsyncStorage.run({type:"unstable-cache",phase:"render"},e,...t);return u(a,f,g,n,r.revalidate,E,b),a}}finally{p&&p.endRead()}}}},17697:(e,t,r)=>{"use strict";Object.defineProperty(t,"P",{enumerable:!0,get:function(){return o}});let n=r(79348),a=r(30412),i=r(48454);function o(){let e=n.workAsyncStorage.getStore(),t=a.workUnitAsyncStorage.getStore();return e?e.forceStatic?void 0:void(e.isUnstableNoStore=!0,t&&"prerender"===t.type||(0,i.markCurrentScopeAsDynamic)(e,t,"unstable_noStore()")):void 0}},50228:(e,t)=>{"use strict";function r(e){return e.startsWith("/")?e:"/"+e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ensureLeadingSlash",{enumerable:!0,get:function(){return r}})},4767:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{normalizeAppPath:function(){return i},normalizeRscURL:function(){return o}});let n=r(50228),a=r(56658);function i(e){return(0,n.ensureLeadingSlash)(e.split("/").reduce((e,t,r,n)=>!t||(0,a.isGroupSegment)(t)||"@"===t[0]||("page"===t||"route"===t)&&r===n.length-1?e:e+"/"+t,""))}function o(e){return e.replace(/\.rsc($|\?)/,"$1")}},53833:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getSortedRouteObjects:function(){return n.getSortedRouteObjects},getSortedRoutes:function(){return n.getSortedRoutes},isDynamicRoute:function(){return a.isDynamicRoute}});let n=r(6033),a=r(58426)},58426:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isDynamicRoute",{enumerable:!0,get:function(){return i}});let n=r(27199),a=/\/\[[^/]+?\](?=\/|$)/;function i(e){return(0,n.isInterceptionRouteAppPath)(e)&&(e=(0,n.extractInterceptionRouteInformation)(e).interceptedRoute),a.test(e)}},6033:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getSortedRouteObjects:function(){return a},getSortedRoutes:function(){return n}});class r{insert(e){this._insert(e.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(e){void 0===e&&(e="/");let t=[...this.children.keys()].sort();null!==this.slugName&&t.splice(t.indexOf("[]"),1),null!==this.restSlugName&&t.splice(t.indexOf("[...]"),1),null!==this.optionalRestSlugName&&t.splice(t.indexOf("[[...]]"),1);let r=t.map(t=>this.children.get(t)._smoosh(""+e+t+"/")).reduce((e,t)=>[...e,...t],[]);if(null!==this.slugName&&r.push(...this.children.get("[]")._smoosh(e+"["+this.slugName+"]/")),!this.placeholder){let t="/"===e?"/":e.slice(0,-1);if(null!=this.optionalRestSlugName)throw Error('You cannot define a route with the same specificity as a optional catch-all route ("'+t+'" and "'+t+"[[..."+this.optionalRestSlugName+']]").');r.unshift(t)}return null!==this.restSlugName&&r.push(...this.children.get("[...]")._smoosh(e+"[..."+this.restSlugName+"]/")),null!==this.optionalRestSlugName&&r.push(...this.children.get("[[...]]")._smoosh(e+"[[..."+this.optionalRestSlugName+"]]/")),r}_insert(e,t,n){if(0===e.length){this.placeholder=!1;return}if(n)throw Error("Catch-all must be the last part of the URL.");let a=e[0];if(a.startsWith("[")&&a.endsWith("]")){let r=a.slice(1,-1),o=!1;if(r.startsWith("[")&&r.endsWith("]")&&(r=r.slice(1,-1),o=!0),r.startsWith("…"))throw Error("Detected a three-dot character ('…') at ('"+r+"'). Did you mean ('...')?");if(r.startsWith("...")&&(r=r.substring(3),n=!0),r.startsWith("[")||r.endsWith("]"))throw Error("Segment names may not start or end with extra brackets ('"+r+"').");if(r.startsWith("."))throw Error("Segment names may not start with erroneous periods ('"+r+"').");function i(e,r){if(null!==e&&e!==r)throw Error("You cannot use different slug names for the same dynamic path ('"+e+"' !== '"+r+"').");t.forEach(e=>{if(e===r)throw Error('You cannot have the same slug name "'+r+'" repeat within a single dynamic path');if(e.replace(/\W/g,"")===a.replace(/\W/g,""))throw Error('You cannot have the slug names "'+e+'" and "'+r+'" differ only by non-word symbols within a single dynamic path')}),t.push(r)}if(n){if(o){if(null!=this.restSlugName)throw Error('You cannot use both an required and optional catch-all route at the same level ("[...'+this.restSlugName+']" and "'+e[0]+'" ).');i(this.optionalRestSlugName,r),this.optionalRestSlugName=r,a="[[...]]"}else{if(null!=this.optionalRestSlugName)throw Error('You cannot use both an optional and required catch-all route at the same level ("[[...'+this.optionalRestSlugName+']]" and "'+e[0]+'").');i(this.restSlugName,r),this.restSlugName=r,a="[...]"}}else{if(o)throw Error('Optional route parameters are not yet supported ("'+e[0]+'").');i(this.slugName,r),this.slugName=r,a="[]"}}this.children.has(a)||this.children.set(a,new r),this.children.get(a)._insert(e.slice(1),t,n)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function n(e){let t=new r;return e.forEach(e=>t.insert(e)),t.smoosh()}function a(e,t){let r={},a=[];for(let n=0;n<e.length;n++){let i=t(e[n]);r[i]=n,a[n]=i}return n(a).map(t=>e[r[t]])}},56658:(e,t)=>{"use strict";function r(e){return"("===e[0]&&e.endsWith(")")}function n(e,t){if(e.includes(a)){let e=JSON.stringify(t);return"{}"!==e?a+"?"+e:a}return e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DEFAULT_SEGMENT_KEY:function(){return i},PAGE_SEGMENT_KEY:function(){return a},addSearchParamsIfPageSegment:function(){return n},isGroupSegment:function(){return r}});let a="__PAGE__",i="__DEFAULT__"},84643:(e,t,r)=>{"use strict";r.d(t,{bR:()=>n.bR,rN:()=>a.r}),r(46463);var n=r(78459);r(46138),r(20035);var a=r(13869);r(93622),r(62823),r(76392)},87406:(e,t,r)=>{"use strict";var n,a;r.d(t,{I:()=>s});let i=()=>{},o=e=>{Object.freeze&&Object.freeze(e)},s=e=>(function e(t,r,s){let l=r.join(".");return(n=s)[a=l]??(n[a]=new Proxy(i,{get(n,a){if("string"==typeof a&&"then"!==a)return e(t,[...r,a],s)},apply(e,n,a){let i=r[r.length-1],s={args:a,path:r};return"call"===i?s={args:a.length>=2?[a[1]]:[],path:r.slice(0,-1)}:"apply"===i&&(s={args:a.length>=2?a[1]:[],path:r.slice(0,-1)}),o(s.args),o(s.path),t(s)}})),s[l]})(e,[],Object.create(null))},78459:(e,t,r)=>{"use strict";r.d(t,{bR:()=>o,px:()=>i});var n=r(18021);class a extends Error{}function i(e){if(e instanceof o||e instanceof Error&&"TRPCError"===e.name)return e;let t=new o({code:"INTERNAL_SERVER_ERROR",cause:e});return e instanceof Error&&e.stack&&(t.stack=e.stack),t}class o extends Error{constructor(e){let t=function(e){if(e instanceof Error)return e;let t=typeof e;if("undefined"!==t&&"function"!==t&&null!==e){if("object"!==t)return Error(String(e));if((0,n.Kn)(e)){let t=new a;for(let r in e)t[r]=e[r];return t}}}(e.cause);super(e.message??t?.message??e.code,{cause:t}),this.code=e.code,this.name="TRPCError",this.cause||(this.cause=t)}}},97210:(e,t,r)=>{"use strict";r.d(t,{F:()=>n});let n=({shape:e})=>e},46463:(e,t,r)=>{"use strict";r.d(t,{B:()=>i});var n=r(15345),a=r(26904);function i(e){let{path:t,error:r,config:i}=e,{code:o}=e.error,s={message:r.message,code:a.u[o],data:{code:o,httpStatus:(0,n.nV)(r)}};return i.isDev&&"string"==typeof e.error.stack&&(s.data.stack=e.error.stack),"string"==typeof t&&(s.data.path=t),i.errorFormatter({...e,shape:s})}},49174:(e,t,r)=>{"use strict";r.d(t,{X:()=>u});var n=r(78459),a=r(18021),i=r(67028);function o(e){let t=null,r=a.yu;return{read:async()=>(r!==a.yu||(null===t&&(t=e().catch(e=>{if(e instanceof n.bR)throw e;throw new n.bR({code:"BAD_REQUEST",message:e instanceof Error?e.message:"Invalid input",cause:e})})),r=await t,t=null),r),result:()=>r!==a.yu?r:void 0}}let s={isMatch:e=>!!e.headers.get("content-type")?.startsWith("application/json"),parse(e){let{req:t}=e,r="1"===e.searchParams.get("batch"),s=r?e.path.split(","):[e.path],l=o(async()=>{let i;if("GET"===t.method){let t=e.searchParams.get("input");t&&(i=JSON.parse(t))}else i=await t.json();if(void 0===i)return{};if(!r)return{0:e.router._def._config.transformer.input.deserialize(i)};if(!(0,a.Kn)(i))throw new n.bR({code:"BAD_REQUEST",message:'"input" needs to be an object when doing a batch call'});let o={};for(let t of s.keys()){let r=i[t];void 0!==r&&(o[t]=e.router._def._config.transformer.input.deserialize(r))}return o}),u=s.map((t,r)=>{let n=e.router._def.procedures[t]??null;return{path:t,procedure:n,getRawInput:async()=>{let t=(await l.read())[r];if(n?._def.type==="subscription"){let r=e.headers.get("last-event-id")??e.searchParams.get("lastEventId")??e.searchParams.get("Last-Event-Id");r&&((0,a.Kn)(t)?t={...t,lastEventId:r}:t??(t={lastEventId:r}))}return t},result:()=>l.result()?.[r]}}),c=new Set(u.map(e=>e.procedure?._def.type).filter(Boolean));if(c.size>1)throw new n.bR({code:"BAD_REQUEST",message:`Cannot mix procedure types in call: ${Array.from(c).join(", ")}`});let d=c.values().next().value??"unknown",f=e.searchParams.get("connectionParams");return{isBatchCall:r,accept:t.headers.get("trpc-accept"),calls:u,type:d,connectionParams:null===f?null:(0,i.J)(f),signal:t.signal}}},l=[s,{isMatch:e=>!!e.headers.get("content-type")?.startsWith("multipart/form-data"),parse(e){let{req:t}=e;if("POST"!==t.method)throw new n.bR({code:"METHOD_NOT_SUPPORTED",message:"Only POST requests are supported for multipart/form-data requests"});let r=o(async()=>await t.formData());return{accept:null,calls:[{path:e.path,getRawInput:r.read,result:r.result,procedure:e.router._def.procedures[e.path]??null}],isBatchCall:!1,type:"mutation",connectionParams:null,signal:t.signal}}},{isMatch:e=>!!e.headers.get("content-type")?.startsWith("application/octet-stream"),parse(e){let{req:t}=e;if("POST"!==t.method)throw new n.bR({code:"METHOD_NOT_SUPPORTED",message:"Only POST requests are supported for application/octet-stream requests"});let r=o(async()=>t.body);return{calls:[{path:e.path,getRawInput:r.read,result:r.result,procedure:e.router._def.procedures[e.path]??null}],isBatchCall:!1,accept:null,type:"mutation",connectionParams:null,signal:t.signal}}}];function u(e){return(function(e){let t=l.find(t=>t.isMatch(e));if(t)return t;if(!t&&"GET"===e.method)return s;throw new n.bR({code:"UNSUPPORTED_MEDIA_TYPE",message:e.headers.has("content-type")?`Unsupported content-type "${e.headers.get("content-type")}`:"Missing content-type header"})})(e.req).parse(e)}},15345:(e,t,r)=>{"use strict";r.d(t,{Je:()=>o,nV:()=>s});var n=r(26904),a=r(18021);let i={PARSE_ERROR:400,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_SUPPORTED:405,TIMEOUT:408,CONFLICT:409,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,UNSUPPORTED_MEDIA_TYPE:415,UNPROCESSABLE_CONTENT:422,TOO_MANY_REQUESTS:429,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504};function o(e){let t=new Set((Array.isArray(e)?e:[e]).map(e=>"error"in e&&(0,a.Kn)(e.error.data)?"number"==typeof e.error.data?.httpStatus?e.error.data.httpStatus:i[n.X[e.error.code]]??500:200));return 1!==t.size?207:t.values().next().value}function s(e){return i[e.code]??500}},67028:(e,t,r)=>{"use strict";r.d(t,{J:()=>i});var n=r(78459),a=r(18021);function i(e){let t;try{t=JSON.parse(e)}catch(e){throw new n.bR({code:"PARSE_ERROR",message:"Not JSON-parsable query params",cause:e})}return function(e){try{if(null===e)return null;if(!(0,a.Kn)(e))throw Error("Expected object");let t=Object.entries(e).filter(([e,t])=>"string"!=typeof t);if(t.length>0)throw Error(`Expected connectionParams to be string values. Got ${t.map(([e,t])=>`${e}: ${typeof t}`).join(", ")}`);return e}catch(e){throw new n.bR({code:"PARSE_ERROR",message:"Invalid connection params shape",cause:e})}}(t)}},51746:(e,t,r)=>{"use strict";function n(e){return"object"==typeof e&&null!==e&&"subscribe"in e}function a(e){let t;let r=(t=null,new ReadableStream({start(r){t=e.subscribe({next(e){r.enqueue({ok:!0,value:e})},error(e){r.enqueue({ok:!1,error:e}),r.close()},complete(){r.close()}})},cancel(){t?.unsubscribe()}})).getReader(),n={async next(){let e=await r.read();if(e.done)return{value:void 0,done:!0};let{value:t}=e;if(!t.ok)throw t.error;return{value:t.value,done:!1}},return:async()=>(await r.cancel(),{value:void 0,done:!0})};return{[Symbol.asyncIterator]:()=>n}}r.d(t,{e:()=>b});var i=r(46463),o=r(78459),s=r(61040),l=r(49747),u=r(20035),c=r(18021),d=r(49174),f=r(15345);function p(e){return{[Symbol.asyncIterator]:()=>({next(){throw e}})}}let h={mutation:["POST"],query:["GET"],subscription:["GET"]},m={mutation:["POST"],query:["GET","POST"],subscription:["GET","POST"]};function y(e){let{ctx:t,info:r,responseMeta:n,untransformedJSON:a,errors:i=[],headers:o}=e,s=a?(0,f.Je)(a):200,l=!a,u=l?[]:Array.isArray(a)?a:[a],c=n?.({ctx:t,info:r,paths:r?.calls.map(e=>e.path),data:u,errors:i,eagerGeneration:l,type:r?.calls.find(e=>e.procedure?._def.type)?.procedure?._def.type??"unknown"})??{};if(c.headers){if(c.headers instanceof Headers)for(let[e,t]of c.headers.entries())o.append(e,t);else for(let[e,t]of Object.entries(c.headers))if(Array.isArray(t))for(let r of t)o.append(e,r);else"string"==typeof t&&o.set(e,t)}return c.status&&(s=c.status),{status:s}}function g(e){return!!(0,c.Kn)(e)&&(!!(0,c.D0)(e)||Object.values(e).some(s.tI)||Object.values(e).some(c.D0))}async function b(e){let{router:t,req:r}=e,f=new Headers([["vary","trpc-accept"]]),b=t._def._config,E=new URL(r.url);if("HEAD"===r.method)return new Response(null,{status:204});let w=e.allowBatching??e.batching?.enabled??!0,v=(e.allowMethodOverride??!1)&&"POST"===r.method,_=(0,c.KH)(()=>{try{return[void 0,(0,d.X)({req:r,path:decodeURIComponent(e.path),router:t,searchParams:E.searchParams,headers:e.req.headers})]}catch(e){return[(0,o.px)(e),void 0]}}),O=(0,c.KH)(()=>{let t;return{valueOrUndefined:()=>{if(t)return t[1]},value:()=>{let[e,r]=t;if(e)throw e;return r},create:async r=>{if(t)throw Error("This should only be called once - report a bug in tRPC");try{let n=await e.createContext({info:r});t=[void 0,n]}catch(e){t=[(0,o.px)(e),void 0]}}}}),R=v?m:h,S="application/jsonl"===r.headers.get("trpc-accept"),T=t._def._config.experimental?.iterablesAndDeferreds??!0,P=t._def._config.experimental?.sseSubscriptions?.enabled??!0;try{let[t,d]=_;if(t)throw t;if(d.isBatchCall&&!w)throw new o.bR({code:"BAD_REQUEST",message:"Batching is not enabled on the server"});if(S&&!d.isBatchCall)throw new o.bR({message:"Streaming requests must be batched (you can do a batch of 1)",code:"BAD_REQUEST"});await O.create(d);let h=d.calls.map(async t=>{let n=t.procedure;try{if(e.error)throw e.error;if(!n)throw new o.bR({code:"NOT_FOUND",message:`No procedure found on path "${t.path}"`});if(!R[n._def.type].includes(r.method))throw new o.bR({code:"METHOD_NOT_SUPPORTED",message:`Unsupported ${r.method}-request to ${n._def.type} procedure at path "${t.path}"`});if("subscription"===n._def.type&&d.isBatchCall)throw new o.bR({code:"BAD_REQUEST",message:"Cannot batch subscription calls"});let a=new AbortController,i=await n({path:t.path,getRawInput:t.getRawInput,ctx:O.value(),type:n._def.type,signal:(0,c.bo)([e.req.signal,a.signal])});return[void 0,{data:i,abortCtrl:a}]}catch(a){let r=(0,o.px)(a),n=t.result();return e.onError?.({error:r,path:t.path,input:n,ctx:O.valueOrUndefined(),type:t.procedure?._def.type??"unknown",req:e.req}),[r,void 0]}});if(!d.isBatchCall){let[t]=d.calls,[r,s]=await h[0];switch(d.type){case"unknown":case"mutation":case"query":{if(f.set("content-type","application/json"),g(s?.data))throw new o.bR({code:"UNSUPPORTED_MEDIA_TYPE",message:"Cannot use stream-like response in non-streaming request - use httpBatchStreamLink"});let n=r?{error:(0,i.B)({config:b,ctx:O.valueOrUndefined(),error:r,input:t.result(),path:t.path,type:d.type})}:{result:{data:s.data}},a=y({ctx:O.valueOrUndefined(),info:d,responseMeta:e.responseMeta,errors:r?[r]:[],headers:f,untransformedJSON:[n]});return new Response(JSON.stringify((0,u.KZ)(b,n)),{status:a.status,headers:f})}case"subscription":{let u=(0,c.KH)(()=>r?p(r):P?n(s.data)||(0,c.D0)(s.data)?n(s.data)?a(s.data):s.data:p(new o.bR({message:`Subscription ${t.path} did not return an observable or a AsyncGenerator`,code:"INTERNAL_SERVER_ERROR"})):p(new o.bR({code:"METHOD_NOT_SUPPORTED",message:'Missing experimental flag "sseSubscriptions"'}))),h=(0,l.WO)({...b.experimental?.sseSubscriptions,data:u,abortCtrl:s?.abortCtrl??new AbortController,serialize:e=>b.transformer.output.serialize(e),formatError(r){let n=(0,o.px)(r.error),a=t?.result(),s=t?.path,l=t?.procedure?._def.type??"unknown";return e.onError?.({error:n,path:s,input:a,ctx:O.valueOrUndefined(),req:e.req,type:l}),(0,i.B)({config:b,ctx:O.valueOrUndefined(),error:n,input:a,path:s,type:l})}});for(let[e,t]of Object.entries(l.gl))f.set(e,t);let m=y({ctx:O.valueOrUndefined(),info:d,responseMeta:e.responseMeta,errors:[],headers:f,untransformedJSON:null});return new Response(h,{headers:f,status:m.status})}}}if("application/jsonl"===d.accept){f.set("content-type","application/json"),f.set("transfer-encoding","chunked");let t=y({ctx:O.valueOrUndefined(),info:d,responseMeta:e.responseMeta,errors:[],headers:f,untransformedJSON:null}),r=(0,s.Ln)({maxDepth:T?4:3,data:h.map(async e=>{let[t,r]=await e,o=d.calls[0];if(t)return{error:(0,i.B)({config:b,ctx:O.valueOrUndefined(),error:t,input:o.result(),path:o.path,type:o.procedure?._def.type??"unknown"})};let s=n(r.data)?a(r.data):Promise.resolve(r.data);return{result:Promise.resolve({data:s})}}),serialize:b.transformer.output.serialize,onError:t=>{e.onError?.({error:o.px(t),path:void 0,input:void 0,ctx:O.valueOrUndefined(),req:e.req,type:d?.type??"unknown"})},formatError(e){let t=d?.calls[e.path[0]],r=(0,o.px)(e.error),n=t?.result(),a=t?.path,s=t?.procedure?._def.type??"unknown";return(0,i.B)({config:b,ctx:O.valueOrUndefined(),error:r,input:n,path:a,type:s})}});return new Response(r,{headers:f,status:t.status})}f.set("content-type","application/json");let m=(await Promise.all(h)).map(e=>{let[t,r]=e;return t?e:g(r.data)?[new o.bR({code:"UNSUPPORTED_MEDIA_TYPE",message:"Cannot use stream-like response in non-streaming request - use httpBatchStreamLink"}),void 0]:e}),E=m.map(([e,t],r)=>{let n=d.calls[r];return e?{error:(0,i.B)({config:b,ctx:O.valueOrUndefined(),error:e,input:n.result(),path:n.path,type:n.procedure?._def.type??"unknown"})}:{result:{data:t.data}}}),v=m.map(([e])=>e).filter(Boolean),A=y({ctx:O.valueOrUndefined(),info:d,responseMeta:e.responseMeta,untransformedJSON:E,errors:v,headers:f});return new Response(JSON.stringify((0,u.KZ)(b,E)),{status:A.status,headers:f})}catch(c){let[t,r]=_,n=O.valueOrUndefined(),{error:a,untransformedJSON:s,body:l}=function(e,t){let{router:r,req:n,onError:a}=t.opts,s=(0,o.px)(e);a?.({error:s,path:t.path,input:t.input,ctx:t.ctx,type:t.type,req:n});let l={error:(0,i.B)({config:r._def._config,error:s,type:t.type,path:t.path,input:t.input,ctx:t.ctx})},c=JSON.stringify((0,u.KZ)(r._def._config,l));return{error:s,untransformedJSON:l,body:c}}(c,{opts:e,ctx:O.valueOrUndefined(),type:r?.type??"unknown"});return new Response(l,{status:y({ctx:n,info:r,responseMeta:e.responseMeta,untransformedJSON:s,errors:[a],headers:f}).status,headers:f})}}},56158:(e,t,r)=>{"use strict";r.d(t,{j:()=>a});var n=r(78459);function a(e){try{let t=e.startsWith("/")?`http://127.0.0.1${e}`:e;return new URL(t)}catch(e){throw new n.bR({code:"BAD_REQUEST",message:"Invalid URL",cause:e})}}},13869:(e,t,r)=>{"use strict";r.d(t,{r:()=>c});var n=r(97210),a=r(93622),i=r(13952),o=r(62823),s=r(76392),l=r(20035);class u{context(){return new u}meta(){return new u}create(e){let t={transformer:(0,l.be)(e?.transformer??l.p_),isDev:e?.isDev??globalThis.process?.env.NODE_ENV!=="production",allowOutsideOfServer:e?.allowOutsideOfServer??!1,errorFormatter:e?.errorFormatter??n.F,isServer:e?.isServer??o.h,$types:null,experimental:e?.experimental??{}};if(!(e?.isServer??o.h)&&e?.allowOutsideOfServer!==!0)throw Error("You're trying to use @trpc/server in a non-server environment. This is not supported by default.");return{_config:t,procedure:(0,i.S)({meta:e?.defaultMeta}),middleware:(0,a.C$)(),router:(0,s.ZX)(t),mergeRouters:s.a7,createCallerFactory:(0,s.bn)()}}}let c=new u},93622:(e,t,r)=>{"use strict";r.d(t,{C$:()=>o,LA:()=>i,qS:()=>s,r4:()=>l});var n=r(78459),a=r(18021);let i="middlewareMarker";function o(){return function(e){return function e(t){return{_middlewares:t,unstable_pipe:r=>e([...t,..."_middlewares"in r?r._middlewares:[r]])}}([e])}}function s(e){let t=async function(t){let r;let i=await t.getRawInput();try{r=await e(i)}catch(e){throw new n.bR({code:"BAD_REQUEST",cause:e})}let o=(0,a.Kn)(t.input)&&(0,a.Kn)(r)?{...t.input,...r}:r;return t.next({input:o})};return t._type="input",t}function l(e){let t=async function({next:t}){let r=await t();if(!r.ok)return r;try{let t=await e(r.data);return{...r,data:t}}catch(e){throw new n.bR({message:"Output validation failed",code:"INTERNAL_SERVER_ERROR",cause:e})}};return t._type="output",t}},13952:(e,t,r)=>{"use strict";r.d(t,{S:()=>l});var n=r(78459),a=r(93622);function i(e){if("function"==typeof e&&"function"==typeof e.assert)return e.assert.bind(e);if("function"==typeof e)return e;if("function"==typeof e.parseAsync)return e.parseAsync.bind(e);if("function"==typeof e.parse)return e.parse.bind(e);if("function"==typeof e.validateSync)return e.validateSync.bind(e);if("function"==typeof e.create)return e.create.bind(e);if("function"==typeof e.assert)return t=>(e.assert(t),t);throw Error("Could not find a validator fn")}var o=r(18021);function s(e,t){let{middlewares:r=[],inputs:n,meta:a,...i}=t;return l({...(0,o.Ne)(e,i),inputs:[...e.inputs,...n??[]],middlewares:[...e.middlewares,...r],meta:e.meta&&a?{...e.meta,...a}:a??e.meta})}function l(e={}){let t={procedure:!0,inputs:[],middlewares:[],...e};return{_def:t,input(e){let r=i(e);return s(t,{inputs:[e],middlewares:[(0,a.qS)(r)]})},output(e){let r=i(e);return s(t,{output:e,middlewares:[(0,a.r4)(r)]})},meta:e=>s(t,{meta:e}),use:e=>s(t,{middlewares:"_middlewares"in e?e._middlewares:[e]}),unstable_concat:e=>s(t,e._def),query:e=>u({...t,type:"query"},e),mutation:e=>u({...t,type:"mutation"},e),subscription:e=>u({...t,type:"subscription"},e),experimental_caller:e=>s(t,{caller:e})}}function u(e,t){let r=s(e,{resolver:t,middlewares:[async function(e){let r=await t(e);return{marker:a.LA,ok:!0,data:r,ctx:e.ctx}}]}),i={...r._def,type:e.type,experimental_caller:!!r._def.caller,meta:r._def.meta,$types:null},o=function(e){async function t(t){if(!t||!("getRawInput"in t))throw Error(c);let r=await d(0,e,t);if(!r)throw new n.bR({code:"INTERNAL_SERVER_ERROR",message:"No result from middlewares - did you forget to `return next()`?"});if(!r.ok)throw r.error;return r.data}return t._def=e,t}(r._def),l=r._def.caller;if(!l)return o;let u=async(...e)=>await l({args:e,invoke:o,_def:i});return u._def=i,u}let c=`
This is a client-only function.
If you want to call this function on the server, see https://trpc.io/docs/v11/server/server-side-calls
`.trim();async function d(e,t,r){try{let n=t.middlewares[e];return await n({...r,meta:t.meta,input:r.input,next:n=>d(e+1,t,{...r,ctx:n?.ctx?{...r.ctx,...n.ctx}:r.ctx,input:n&&"input"in n?n.input:r.input,getRawInput:n?.getRawInput??r.getRawInput})})}catch(e){return{ok:!1,error:(0,n.px)(e),marker:a.LA}}}},62823:(e,t,r)=>{"use strict";r.d(t,{h:()=>n});let n="undefined"==typeof window||"Deno"in window||globalThis.process?.env?.NODE_ENV==="test"||!!globalThis.process?.env?.JEST_WORKER_ID||!!globalThis.process?.env?.VITEST_WORKER_ID},76392:(e,t,r)=>{"use strict";r.d(t,{ZX:()=>c,a7:()=>f,bn:()=>d});var n=r(87406),a=r(97210),i=r(78459),o=r(20035),s=r(18021);let l={_ctx:null,_errorShape:null,_meta:null,queries:{},mutations:{},subscriptions:{},errorFormatter:a.F,transformer:o.p_},u=["then","call","apply"];function c(e){return function(t){let r=new Set(Object.keys(t).filter(e=>u.includes(e)));if(r.size>0)throw Error("Reserved words used in `router({})` call: "+Array.from(r).join(", "));let n=(0,s.St)({}),a=function e(t,r=[]){let a=(0,s.St)({});for(let[i,o]of Object.entries(t??{})){if(o._def&&"router"in o._def){a[i]=e(o._def.record,[...r,i]);continue}if("function"!=typeof o){a[i]=e(o,[...r,i]);continue}let t=[...r,i].join(".");if(n[t])throw Error(`Duplicate key: ${t}`);n[t]=o,a[i]=o}return a}(t),i={_config:e,router:!0,procedures:n,...l,record:a};return{...a,_def:i,createCaller:d()({_def:i})}}}function d(){return function(e){let t=e._def;return function(e,r){return(0,n.I)(async({path:n,args:a})=>{let o;let l=n.join(".");if(1===n.length&&"_def"===n[0])return t;let u=t.procedures[l];try{return o=(0,s.mf)(e)?await Promise.resolve(e()):e,await u({path:l,getRawInput:async()=>a[0],ctx:o,type:u._def.type,signal:r?.signal})}catch(e){throw r?.onError?.({ctx:o,error:i.px(e),input:a[0],path:l,type:u._def.type}),e}})}}}function f(...e){let t=(0,s.Ne)({},...e.map(e=>e._def.record));return c({errorFormatter:e.reduce((e,t)=>{if(t._def._config.errorFormatter&&t._def._config.errorFormatter!==a.F){if(e!==a.F&&e!==t._def._config.errorFormatter)throw Error("You seem to have several error formatters");return t._def._config.errorFormatter}return e},a.F),transformer:e.reduce((e,t)=>{if(t._def._config.transformer&&t._def._config.transformer!==o.p_){if(e!==o.p_&&e!==t._def._config.transformer)throw Error("You seem to have several transformers");return t._def._config.transformer}return e},o.p_),isDev:e.every(e=>e._def._config.isDev),allowOutsideOfServer:e.every(e=>e._def._config.allowOutsideOfServer),isServer:e.every(e=>e._def._config.isServer),$types:e[0]?._def._config.$types})(t)}},26904:(e,t,r)=>{"use strict";r.d(t,{X:()=>a,u:()=>n});let n={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,BAD_GATEWAY:-32603,SERVICE_UNAVAILABLE:-32603,GATEWAY_TIMEOUT:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNSUPPORTED_MEDIA_TYPE:-32015,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099},a={[-32700]:"PARSE_ERROR",[-32600]:"BAD_REQUEST",[-32603]:"INTERNAL_SERVER_ERROR",[-32001]:"UNAUTHORIZED",[-32003]:"FORBIDDEN",[-32004]:"NOT_FOUND",[-32005]:"METHOD_NOT_SUPPORTED",[-32008]:"TIMEOUT",[-32009]:"CONFLICT",[-32012]:"PRECONDITION_FAILED",[-32013]:"PAYLOAD_TOO_LARGE",[-32015]:"UNSUPPORTED_MEDIA_TYPE",[-32022]:"UNPROCESSABLE_CONTENT",[-32029]:"TOO_MANY_REQUESTS",[-32099]:"CLIENT_CLOSED_REQUEST"}},61040:(e,t,r)=>{"use strict";r.d(t,{Ln:()=>u,tI:()=>s});var n=r(82902),a=r(78459),i=r(18021),o=r(36847);function s(e){return((0,i.Kn)(e)||(0,i.mf)(e))&&"function"==typeof e?.then&&"function"==typeof e?.catch}class l extends Error{constructor(e){super("Max depth reached at path: "+e.join(".")),this.path=e}}function u(e){let[t,r]=function(e){let{data:t}=e,r=0,u=(0,o.U)(),c=new Set;function d(){0!==c.size||u.cancelled()||u.controller.close()}function f(t){return e.maxDepth&&t.length>e.maxDepth?new l(t):null}function p(t,l){if(s(t))return[0,function(t,a){let i=f(a);i&&(t.catch(()=>{}),t=Promise.reject(i));let s=r++;return c.add(s),n.r.race([t,u.cancelledPromise]).then(e=>{(0,o.V)(e)||u.controller.enqueue([s,0,h(e,a)])}).catch(t=>{e.onError?.({error:t,path:a}),u.controller.enqueue([s,1,e.formatError?.({error:t,path:a})])}).finally(()=>{c.delete(s),d()}),s}(t,l)];if((0,i.D0)(t)){if(e.maxDepth&&l.length>=e.maxDepth)throw Error("Max depth reached");return[1,function(t,s){let l=f(s);l&&(t={[Symbol.asyncIterator](){throw l}});let p=r++;return c.add(p),(0,i.KH)(async()=>{let r=t[Symbol.asyncIterator]();for(;;){let t=await n.r.race([r.next().catch(a.px),u.cancelledPromise]);if(t instanceof Error){e.onError?.({error:t,path:s}),u.controller.enqueue([p,2,e.formatError?.({error:t,path:s})]);return}if((0,o.V)(t)){await r.return?.();break}if(t.done){u.controller.enqueue([p,0,h(t.value,s)]);break}u.controller.enqueue([p,1,h(t.value,s)])}c.delete(p),d()}).catch(t=>{e.onError?.({error:Error("You found a bug - please report it on https://github.com/trpc/trpc",{cause:t}),path:s})}),p}(t,l)]}return null}function h(e,t){if(void 0===e)return[[]];if(!(0,i.Kn)(e))return[[e]];let r=p(e,t);if(r)return[[0],[null,...r]];let n={},a=[];for(let[r,i]of Object.entries(e)){let e=p(i,[...t,r]);if(!e){n[r]=i;continue}n[r]=0,a.push([r,...e])}return[[n],...a]}let m={};for(let[e,r]of Object.entries(t))m[e]=h(r,[e]);return[m,u.readable]}(e),{serialize:u}=e;return u&&(t=u(t),r=r.pipeThrough(new TransformStream({transform(e,t){t.enqueue(u(e))}}))),r.pipeThrough(new TransformStream({start(e){e.enqueue(JSON.stringify(t)+"\n")},transform(e,t){t.enqueue(JSON.stringify(e)+"\n")}})).pipeThrough(new TextEncoderStream)}},49747:(e,t,r)=>{"use strict";r.d(t,{gl:()=>y,WO:()=>m});var n=r(78459),a=r(18021),i=r(46138),o=r(82902),s=r(40051);function l(e){let t=(0,s.d)(),r=null,n={get promise(){return t.promise},start:function(){if(null!=r)throw Error("PromiseTimer already started.");return r=setTimeout(t.resolve,e),n},reset:function(){return a(),t=(0,s.d)(),n},clear:a};return n;function a(){return null!=r&&(clearTimeout(r),r=null),n}}async function*u(e,t){let r;let n=t.then(a.ZT),i=e[Symbol.asyncIterator]();for(;;){if(null==(r=await o.r.race([i.next(),n]))){await i.return?.();break}if(r.done)break;yield r.value,r=null}}async function*c(e,{count:t,gracePeriodMs:r,onCancel:n}){let i=e[Symbol.asyncIterator](),s=l(r);try{let e;for(;;){if(e=await o.r.race([i.next(),s.promise]),null==e){await i.return?.();break}if(e.done)break;yield e.value,0==--t&&s.start().promise.then(n,a.ZT),e=null}}finally{s.clear()}}var d=r(36847);let f=Symbol("ping"),p={value:f,done:!1};async function*h(e,t){let r;let n=l(t),a=e[Symbol.asyncIterator]();for(;;){let e=a.next(),t=n.start().promise.then(()=>p);try{r=await o.r.race([e,t])}finally{n.clear()}if(r.done)return r.value;yield r.value,n.reset(),r=null}}function m(e){let t=(0,d.U)();t.controller.enqueue({comment:"connected"});let{serialize:r=a.yR}=e,o={enabled:e.ping?.enabled??!1,intervalMs:e.ping?.intervalMs??1e3};return(0,a.KH)(async()=>{let a=e.data;a=u(a,t.cancelledPromise),e.emitAndEndImmediately&&(a=c(a,{count:1,gracePeriodMs:1,onCancel:()=>e.abortCtrl.abort()}));let s=null;null!=e.maxDurationMs&&e.maxDurationMs>0&&e.maxDurationMs!==1/0&&(a=u(a,(s=l(e.maxDurationMs).start()).promise.then(()=>e.abortCtrl.abort()))),o.enabled&&o.intervalMs!==1/0&&o.intervalMs>0&&(a=h(a,o.intervalMs));try{let e,n;for await(e of a){if(e===f){t.controller.enqueue({comment:"ping"});continue}n=(0,i.ol)(e)?{id:e[0],data:e[1]}:{data:e},"data"in n&&(n.data=JSON.stringify(r(n.data))),t.controller.enqueue(n),e=null,n=null}}catch(a){if(!(a instanceof Error)||"AbortError"!==a.name){let i=(0,n.px)(a),o=e.formatError?.({error:i})??null;t.controller.enqueue({event:"serialized-error",data:JSON.stringify(r(o))})}}finally{s?.clear(),t.controller.close()}}).catch(e=>{t.controller.error(e)}),t.readable.pipeThrough(new TransformStream({transform(e,t){"event"in e&&t.enqueue(`event: ${e.event}
`),"data"in e&&t.enqueue(`data: ${e.data}
`),"id"in e&&t.enqueue(`id: ${e.id}
`),"comment"in e&&t.enqueue(`: ${e.comment}
`),t.enqueue("\n\n")}}))}let y={"Content-Type":"text/event-stream","Cache-Control":"no-cache, no-transform","X-Accel-Buffering":"no",Connection:"keep-alive"}},46138:(e,t,r)=>{"use strict";r.d(t,{ol:()=>a});let n=Symbol();function a(e){return Array.isArray(e)&&e[2]===n}},40051:(e,t,r)=>{"use strict";function n(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}r.d(t,{d:()=>n})},36847:(e,t,r)=>{"use strict";r.d(t,{U:()=>i,V:()=>o});var n=r(40051);let a=Symbol();function i(){let e=null,t=(0,n.d)(),r=!1;return{readable:new ReadableStream({start(t){e=t},cancel(){t.resolve(a),r=!0}}),controller:e,cancelledPromise:t.promise,cancelled:()=>r}}function o(e){return e===a}},20035:(e,t,r)=>{"use strict";function n(e){return"input"in e?e:{input:e,output:e}}r.d(t,{KZ:()=>o,be:()=>n,p_:()=>a}),r(18021);let a={input:{serialize:e=>e,deserialize:e=>e},output:{serialize:e=>e,deserialize:e=>e}};function i(e,t){return"error"in t?{...t,error:e.transformer.output.serialize(t.error)}:"data"in t.result?{...t,result:{...t.result,data:e.transformer.output.serialize(t.result.data)}}:t}function o(e,t){return Array.isArray(t)?t.map(t=>i(e,t)):i(e,t)}},18021:(e,t,r)=>{"use strict";r.d(t,{D0:()=>u,KH:()=>c,Kn:()=>i,Ne:()=>a,St:()=>s,ZT:()=>d,bo:()=>p,mf:()=>o,yR:()=>f,yu:()=>n});let n=Symbol();function a(e,...t){let r=Object.assign(Object.create(null),e);for(let e of t)for(let t in e){if(t in r&&r[t]!==e[t])throw Error(`Duplicate key ${t}`);r[t]=e[t]}return r}function i(e){return!!e&&!Array.isArray(e)&&"object"==typeof e}function o(e){return"function"==typeof e}function s(e){return Object.assign(Object.create(null),e)}let l="function"==typeof Symbol&&!!Symbol.asyncIterator;function u(e){return l&&i(e)&&Symbol.asyncIterator in e}let c=e=>e();function d(){}function f(e){return e}function p(e){if("function"==typeof AbortSignal.any)return AbortSignal.any(e);let t=new AbortController;for(let t of e){if(t.aborted){r();break}t.addEventListener("abort",r,{once:!0})}return t.signal;function r(){for(let n of(t.abort(),e))n.removeEventListener("abort",r)}}},82902:(e,t,r)=>{"use strict";r.d(t,{r:()=>o});let n=new WeakMap,a=()=>{},i=Symbol.toStringTag;class o{subscribe(){let e,t;let{settlement:r}=this;if(null===r){let r,n;if(null===this.subscribers)throw Error("Unpromise settled but still has subscribers");let a={promise:new Promise((e,t)=>{r=e,n=t}),resolve:r,reject:n};this.subscribers=[...this.subscribers,a],e=a.promise,t=()=>{null!==this.subscribers&&(this.subscribers=function(e,t){let r=e.indexOf(t);return -1!==r?[...e.slice(0,r),...e.slice(r+1)]:e}(this.subscribers,a))}}else{let{status:n}=r;e="fulfilled"===n?Promise.resolve(r.value):Promise.reject(r.reason),t=a}return Object.assign(e,{unsubscribe:t})}then(e,t){let r=this.subscribe(),{unsubscribe:n}=r;return Object.assign(r.then(e,t),{unsubscribe:n})}catch(e){let t=this.subscribe(),{unsubscribe:r}=t;return Object.assign(t.catch(e),{unsubscribe:r})}finally(e){let t=this.subscribe(),{unsubscribe:r}=t;return Object.assign(t.finally(e),{unsubscribe:r})}static proxy(e){let t=o.getSubscribablePromise(e);return void 0!==t?t:o.createSubscribablePromise(e)}static createSubscribablePromise(e){let t=new o(e);return n.set(e,t),n.set(t,t),t}static getSubscribablePromise(e){return n.get(e)}static resolve(e){let t="object"==typeof e&&null!==e&&"then"in e&&"function"==typeof e.then?e:Promise.resolve(e);return o.proxy(t).subscribe()}static async any(e){let t=(Array.isArray(e)?e:[...e]).map(o.resolve);try{return await Promise.any(t)}finally{t.forEach(({unsubscribe:e})=>{e()})}}static async race(e){let t=(Array.isArray(e)?e:[...e]).map(o.resolve);try{return await Promise.race(t)}finally{t.forEach(({unsubscribe:e})=>{e()})}}static async raceReferences(e){let t=e.map(s);try{return await Promise.race(t)}finally{for(let e of t)e.unsubscribe()}}constructor(e){this.subscribers=[],this.settlement=null,this[i]="Unpromise","function"==typeof e?this.promise=new Promise(e):this.promise=e;let t=this.promise.then(e=>{let{subscribers:t}=this;this.subscribers=null,this.settlement={status:"fulfilled",value:e},t?.forEach(({resolve:t})=>{t(e)})});"catch"in t&&t.catch(e=>{let{subscribers:t}=this;this.subscribers=null,this.settlement={status:"rejected",reason:e},t?.forEach(({reject:t})=>{t(e)})})}}function s(e){return o.proxy(e).then(()=>[e])}},86873:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>G});class n{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,t){this.keyToValue.set(e,t),this.valueToKey.set(t,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class a{constructor(e){this.generateIdentifier=e,this.kv=new n}register(e,t){this.kv.getByValue(e)||(t||(t=this.generateIdentifier(e)),this.kv.set(t,e))}clear(){this.kv.clear()}getIdentifier(e){return this.kv.getByValue(e)}getValue(e){return this.kv.getByKey(e)}}class i extends a{constructor(){super(e=>e.name),this.classToAllowedProps=new Map}register(e,t){"object"==typeof t?(t.allowProps&&this.classToAllowedProps.set(e,t.allowProps),super.register(e,t.identifier)):super.register(e,t)}getAllowedProps(e){return this.classToAllowedProps.get(e)}}function o(e,t){Object.entries(e).forEach(([e,r])=>t(r,e))}function s(e,t){return -1!==e.indexOf(t)}function l(e,t){for(let r=0;r<e.length;r++){let n=e[r];if(t(n))return n}}class u{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return function(e,t){let r=function(e){if("values"in Object)return Object.values(e);let t=[];for(let r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t}(e);if("find"in r)return r.find(t);for(let e=0;e<r.length;e++){let n=r[e];if(t(n))return n}}(this.transfomers,t=>t.isApplicable(e))}findByName(e){return this.transfomers[e]}}let c=e=>Object.prototype.toString.call(e).slice(8,-1),d=e=>void 0===e,f=e=>null===e,p=e=>"object"==typeof e&&null!==e&&e!==Object.prototype&&(null===Object.getPrototypeOf(e)||Object.getPrototypeOf(e)===Object.prototype),h=e=>p(e)&&0===Object.keys(e).length,m=e=>Array.isArray(e),y=e=>"string"==typeof e,g=e=>"number"==typeof e&&!isNaN(e),b=e=>"boolean"==typeof e,E=e=>e instanceof Map,w=e=>e instanceof Set,v=e=>"Symbol"===c(e),_=e=>"number"==typeof e&&isNaN(e),O=e=>b(e)||f(e)||d(e)||g(e)||y(e)||v(e),R=e=>e===1/0||e===-1/0,S=e=>e.replace(/\./g,"\\."),T=e=>e.map(String).map(S).join("."),P=e=>{let t=[],r="";for(let n=0;n<e.length;n++){let a=e.charAt(n);if("\\"===a&&"."===e.charAt(n+1)){r+=".",n++;continue}if("."===a){t.push(r),r="";continue}r+=a}let n=r;return t.push(n),t};function A(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}let N=[A(d,"undefined",()=>null,()=>void 0),A(e=>"bigint"==typeof e,"bigint",e=>e.toString(),e=>"undefined"!=typeof BigInt?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),A(e=>e instanceof Date&&!isNaN(e.valueOf()),"Date",e=>e.toISOString(),e=>new Date(e)),A(e=>e instanceof Error,"Error",(e,t)=>{let r={name:e.name,message:e.message};return t.allowedErrorProps.forEach(t=>{r[t]=e[t]}),r},(e,t)=>{let r=Error(e.message);return r.name=e.name,r.stack=e.stack,t.allowedErrorProps.forEach(t=>{r[t]=e[t]}),r}),A(e=>e instanceof RegExp,"regexp",e=>""+e,e=>new RegExp(e.slice(1,e.lastIndexOf("/")),e.slice(e.lastIndexOf("/")+1))),A(w,"set",e=>[...e.values()],e=>new Set(e)),A(E,"map",e=>[...e.entries()],e=>new Map(e)),A(e=>_(e)||R(e),"number",e=>_(e)?"NaN":e>0?"Infinity":"-Infinity",Number),A(e=>0===e&&1/e==-1/0,"number",()=>"-0",Number),A(e=>e instanceof URL,"URL",e=>e.toString(),e=>new URL(e))];function I(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}let D=I((e,t)=>!!v(e)&&!!t.symbolRegistry.getIdentifier(e),(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,r)=>{let n=r.symbolRegistry.getValue(t[1]);if(!n)throw Error("Trying to deserialize unknown symbol");return n}),x=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),k=I(e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{let r=x[t[1]];if(!r)throw Error("Trying to deserialize unknown typed array");return new r(e)});function U(e,t){return!!e?.constructor&&!!t.classRegistry.getIdentifier(e.constructor)}let j=I(U,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{let r=t.classRegistry.getAllowedProps(e.constructor);if(!r)return{...e};let n={};return r.forEach(t=>{n[t]=e[t]}),n},(e,t,r)=>{let n=r.classRegistry.getValue(t[1]);if(!n)throw Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(n.prototype),e)}),C=I((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,r)=>{let n=r.customTransformerRegistry.findByName(t[1]);if(!n)throw Error("Trying to deserialize unknown custom value");return n.deserialize(e)}),M=[j,D,C,k],$=(e,t)=>{let r=l(M,r=>r.isApplicable(e,t));if(r)return{value:r.transform(e,t),type:r.annotation(e,t)};let n=l(N,r=>r.isApplicable(e,t));if(n)return{value:n.transform(e,t),type:n.annotation}},L={};N.forEach(e=>{L[e.annotation]=e});let B=(e,t,r)=>{if(m(t))switch(t[0]){case"symbol":return D.untransform(e,t,r);case"class":return j.untransform(e,t,r);case"custom":return C.untransform(e,t,r);case"typed-array":return k.untransform(e,t,r);default:throw Error("Unknown transformation: "+t)}else{let n=L[t];if(!n)throw Error("Unknown transformation: "+t);return n.untransform(e,r)}},q=(e,t)=>{let r=e.keys();for(;t>0;)r.next(),t--;return r.next().value};function F(e){if(s(e,"__proto__"))throw Error("__proto__ is not allowed as a property");if(s(e,"prototype"))throw Error("prototype is not allowed as a property");if(s(e,"constructor"))throw Error("constructor is not allowed as a property")}let z=(e,t)=>{F(t);for(let r=0;r<t.length;r++){let n=t[r];if(w(e))e=q(e,+n);else if(E(e)){let a=+n,i=0==+t[++r]?"key":"value",o=q(e,a);switch(i){case"key":e=o;break;case"value":e=e.get(o)}}else e=e[n]}return e},K=(e,t,r)=>{if(F(t),0===t.length)return r(e);let n=e;for(let e=0;e<t.length-1;e++){let r=t[e];if(m(n))n=n[+r];else if(p(n))n=n[r];else if(w(n))n=q(n,+r);else if(E(n)){if(e===t.length-2)break;let a=+r,i=0==+t[++e]?"key":"value",o=q(n,a);switch(i){case"key":n=o;break;case"value":n=n.get(o)}}}let a=t[t.length-1];if(m(n)?n[+a]=r(n[+a]):p(n)&&(n[a]=r(n[a])),w(n)){let e=q(n,+a),t=r(e);e!==t&&(n.delete(e),n.add(t))}if(E(n)){let e=q(n,+t[t.length-2]);switch(0==+a?"key":"value"){case"key":{let t=r(e);n.set(t,n.get(e)),t!==e&&n.delete(e);break}case"value":n.set(e,r(n.get(e)))}}return e},V=(e,t)=>p(e)||m(e)||E(e)||w(e)||U(e,t),W=(e,t,r,n,a=[],i=[],l=new Map)=>{let u=O(e);if(!u){!function(e,t,r){let n=r.get(e);n?n.push(t):r.set(e,[t])}(e,a,t);let r=l.get(e);if(r)return n?{transformedValue:null}:r}if(!V(e,r)){let t=$(e,r),n=t?{transformedValue:t.value,annotations:[t.type]}:{transformedValue:e};return u||l.set(e,n),n}if(s(i,e))return{transformedValue:null};let c=$(e,r),d=c?.value??e,f=m(d)?[]:{},y={};o(d,(s,u)=>{if("__proto__"===u||"constructor"===u||"prototype"===u)throw Error(`Detected property ${u}. This is a prototype pollution risk, please remove it from your object.`);let c=W(s,t,r,n,[...a,u],[...i,e],l);f[u]=c.transformedValue,m(c.annotations)?y[u]=c.annotations:p(c.annotations)&&o(c.annotations,(e,t)=>{y[S(u)+"."+t]=e})});let g=h(y)?{transformedValue:f,annotations:c?[c.type]:void 0}:{transformedValue:f,annotations:c?[c.type,y]:y};return u||l.set(e,g),g};function H(e){return Object.prototype.toString.call(e).slice(8,-1)}function Y(e){return"Array"===H(e)}class G{constructor({dedupe:e=!1}={}){this.classRegistry=new i,this.symbolRegistry=new a(e=>e.description??""),this.customTransformerRegistry=new u,this.allowedErrorProps=[],this.dedupe=e}serialize(e){let t=new Map,r=W(e,t,this,this.dedupe),n={json:r.transformedValue};r.annotations&&(n.meta={...n.meta,values:r.annotations});let a=function(e,t){let r;let n={};return(e.forEach(e=>{if(e.length<=1)return;t||(e=e.map(e=>e.map(String)).sort((e,t)=>e.length-t.length));let[a,...i]=e;0===a.length?r=i.map(T):n[T(a)]=i.map(T)}),r)?h(n)?[r]:[r,n]:h(n)?void 0:n}(t,this.dedupe);return a&&(n.meta={...n.meta,referentialEqualities:a}),n}deserialize(e){let{json:t,meta:r}=e,n=function e(t,r={}){return Y(t)?t.map(t=>e(t,r)):!function(e){if("Object"!==H(e))return!1;let t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}(t)?t:[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)].reduce((n,a)=>{if(Y(r.props)&&!r.props.includes(a))return n;let i=e(t[a],r);return function(e,t,r,n,a){let i=({}).propertyIsEnumerable.call(n,t)?"enumerable":"nonenumerable";"enumerable"===i&&(e[t]=r),a&&"nonenumerable"===i&&Object.defineProperty(e,t,{value:r,enumerable:!1,writable:!0,configurable:!0})}(n,a,i,t,r.nonenumerable),n},{})}(t);if(r?.values){var a,i,s;a=n,i=r.values,s=this,function e(t,r,n=[]){if(!t)return;if(!m(t)){o(t,(t,a)=>e(t,r,[...n,...P(a)]));return}let[a,i]=t;i&&o(i,(t,a)=>{e(t,r,[...n,...P(a)])}),r(a,n)}(i,(e,t)=>{a=K(a,t,t=>B(t,e,s))}),n=a}return r?.referentialEqualities&&(n=function(e,t){function r(t,r){let n=z(e,P(r));t.map(P).forEach(t=>{e=K(e,t,()=>n)})}if(m(t)){let[n,a]=t;n.forEach(t=>{e=K(e,P(t),()=>e)}),a&&o(a,r)}else o(t,r);return e}(n,r.referentialEqualities)),n}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e))}registerClass(e,t){this.classRegistry.register(e,t)}registerSymbol(e,t){this.symbolRegistry.register(e,t)}registerCustom(e,t){this.customTransformerRegistry.register({name:t,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}}G.defaultInstance=new G,G.serialize=G.defaultInstance.serialize.bind(G.defaultInstance),G.deserialize=G.defaultInstance.deserialize.bind(G.defaultInstance),G.stringify=G.defaultInstance.stringify.bind(G.defaultInstance),G.parse=G.defaultInstance.parse.bind(G.defaultInstance),G.registerClass=G.defaultInstance.registerClass.bind(G.defaultInstance),G.registerSymbol=G.defaultInstance.registerSymbol.bind(G.defaultInstance),G.registerCustom=G.defaultInstance.registerCustom.bind(G.defaultInstance),G.allowErrorProps=G.defaultInstance.allowErrorProps.bind(G.defaultInstance),G.serialize,G.deserialize,G.stringify,G.parse,G.registerClass,G.registerCustom,G.registerSymbol,G.allowErrorProps}};